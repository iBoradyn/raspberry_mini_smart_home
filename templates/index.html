{% load static %}
{% load i18n %}
{% csrf_token %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{% trans 'Manage watering system' %}</title>
</head>
<body>
  <div id="watering_system">
    <h1>{% trans 'Manage watering system' %}</h1>
    <h3>{% trans 'Click button to start/stop watering.' %}</h3>

    <button id="watering_btn">Start</button>
  </div>
  <div id="door_opener">
    <h1>{% trans 'Mini motor control' %}</h1>

    <button id="spin_left_btn">{% trans 'Spin left' %}</button>
    <button id="spin_right_btn">{% trans 'Spin right' %}</button>
    <button id="spin_off_btn">{% trans 'Turn off' %}</button>
  </div>


  <script src="{% static 'js/getCookie.js' %}"></script>
  <script>
    window.addEventListener("load", () => {
        window.csrfToken = getCookie('csrftoken');

        window.turnOnPumpUrl = "{% url 'watering_system:turn_on_pump' %}";
        window.turnOffPumpUrl = "{% url 'watering_system:turn_off_pump' %}";

        window.spinMotorLeftUrl = "{% url 'door_opener:spin_motor_left' %}";
        window.spinMotorRightUrl = "{% url 'door_opener:spin_motor_right' %}";
        window.turnOffMotor = "{% url 'door_opener:turn_motor_off' %}";
    })
  </script>

  <script src="{% static 'js/watering_system.js' %}"></script>
  <script src="{% static 'js/door_opener.js' %}"></script>
</body>
</html>
